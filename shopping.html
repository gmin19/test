<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <meta name="robots" content="noindex, nofollow">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#c026d3"> <title>오키나와 가족 여행 - 아메리칸 빌리지 쇼핑</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://unpkg.com">
    <link rel="preconnect" href="https://www.gstatic.com">

    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://unpkg.com/lucide@latest" defer></script>

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #F8FAFC; color: #334155; -webkit-tap-highlight-color: transparent; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* 건물 그룹 스타일 */
        .building-group { margin-bottom: 24px; }
        .building-title { 
            font-size: 14px; font-weight: 800; color: #475569; 
            margin-bottom: 8px; padding-left: 4px; border-left: 4px solid #D946EF; 
            display: flex; align-items: center; justify-content: space-between;
        }

        /* 쇼핑 아이템 카드 */
        .shop-item {
            background-color: white;
            border: 1px solid #E2E8F0;
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 10px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.02);
            transition: transform 0.2s;
        }
        .shop-item:active { transform: scale(0.98); background-color: #FDF4FF; }

        /* 뱃지 스타일 */
        .badge-product { 
            background-color: #F3E8FF; color: #7E22CE; border: 1px solid #E9D5FF;
            font-size: 10px; font-weight: 700; padding: 2px 6px; border-radius: 4px;
            display: inline-flex; align-items: center; gap: 3px; margin-right: 4px; margin-bottom: 4px;
        }
        
        /* 혜택 뱃지 */
        .badge-cardkey { 
            background-color: #FFF1F2; color: #BE123C; border: 1px solid #FECDD3;
            font-size: 11px; font-weight: 800; padding: 3px 8px; border-radius: 6px;
            display: inline-block; margin-top: 8px;
            box-shadow: 0 1px 1px rgba(0,0,0,0.05);
        }
        
        .rating-text { font-size: 11px; font-weight: 800; color: #EAB308; }

        .top-btn { position: fixed; bottom: 24px; right: 24px; z-index: 50; opacity: 0; transform: translateY(20px); transition: all 0.3s ease; pointer-events: none; }
        .top-btn.visible { opacity: 1; transform: translateY(0); pointer-events: auto; }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col pb-safe">

    <header class="bg-fuchsia-600 text-white pt-10 pb-6 px-5 relative overflow-hidden shadow-xl z-20">
        <div class="max-w-4xl mx-auto relative z-10">
            <div class="flex justify-between items-start mb-6 mt-8">
                <div class="flex-1 pr-2">
                    <span class="text-fuchsia-200 font-bold text-xs mb-1 block">아메리칸 빌리지 도보 쇼핑</span>
                    <h1 class="text-2xl md:text-3xl font-black leading-tight tracking-tight">
                        평점 4.5+<br>
                        <span class="text-yellow-300">인생템</span> 쇼핑 가이드
                    </h1>
                    <p class="text-fuchsia-100 text-xs mt-2 flex items-center gap-1">
                        <i data-lucide="map" class="w-3 h-3"></i> 건물별 정리 & 호텔 혜택 확인
                    </p>
                </div>
            </div>
        </div>
        <div class="absolute -right-4 -bottom-16 w-48 h-48 bg-fuchsia-500 rounded-full opacity-30 blur-3xl"></div>
    </header>

    <nav id="global-nav" class="sticky top-0 z-50 bg-white/95 backdrop-blur border-b border-slate-200 shadow-sm"></nav>

    <main class="flex-grow max-w-4xl mx-auto w-full px-5 py-6 pb-32 relative">

        <div class="mb-6 bg-white border border-slate-200 p-4 rounded-xl shadow-sm">
            <h4 class="font-bold text-sm text-slate-800 mb-2 flex items-center gap-2">
                <i data-lucide="credit-card" class="w-4 h-4 text-rose-500"></i> 호텔 카드키 혜택 (레쿠/베셀)
            </h4>
            <p class="text-xs text-slate-500 leading-relaxed">
                계산 시 <span class="font-bold text-slate-700">객실 카드키</span>를 제시하세요. 매장마다 혜택이 다릅니다. 아래처럼 <span class="text-rose-600 font-bold bg-rose-50 px-1 rounded">분홍색 뱃지</span> 내용을 확인하세요!
            </p>
        </div>

        <div id="shop-container">
            </div>

        <div id="global-apps-container" class="mt-8 pt-6 border-t border-slate-200 pb-10"></div>

    </main>

    <button onclick="scrollToTop()" id="top-btn" class="top-btn bg-fuchsia-600 text-white p-3 rounded-full shadow-xl hover:bg-fuchsia-700 transition-colors">
        <i data-lucide="arrow-up" class="w-6 h-6"></i>
    </button>

    <script type="module" src="common.js"></script>
    
    <script src="//instant.page/5.2.0" type="module" integrity="sha384-jnZyxPjiipYXnSU0ygqeac2q7CVYMbh84GO0uHuyrYlp+WvTffKiknkIODCo572M"></script>

    <script>
        // 데이터베이스: 아메리칸 빌리지 내 평점 4.5 이상 주요 상점
        const shopData = [
            {
                building: "데포 아일랜드 (Depot Island)",
                desc: "가장 중심이 되는 알록달록한 건물들",
                shops: [
                    { name: "하부박스 (Habu Box)", product: "티셔츠, 잡화", rating: "4.7", benefit: "10% 할인", desc: "오키나와 감성의 유니크한 티셔츠와 양말." },
                    { name: "오키추 (Okichu)", product: "커스텀 쪼리", rating: "4.8", benefit: "5% 할인", desc: "발바닥, 끈 색상을 내 맘대로 조합하는 시마조리." },
                    { name: "닥터마틴 오키나와", product: "신발, 부츠", rating: "4.6", benefit: "5% 할인", desc: "한정판 모델이나 면세 혜택 가능." },
                    { name: "스플래쉬 (Splash)", product: "액세서리, 소품", rating: "4.5", benefit: null, desc: "여성분들이 좋아하는 조개/바다 테마 소품샵." }
                ]
            },
            {
                building: "디스토션 씨사이드 (Distortion Seaside)",
                desc: "바다가 보이는 해안가 건물",
                shops: [
                    { name: "크리스마스 랜드", product: "크리스마스 소품", rating: "4.6", benefit: "오리지널 스티커 증정", desc: "1년 365일 크리스마스 분위기. 오너먼트 추천." },
                    { name: "필버트 (Filbert)", product: "가죽 공예", rating: "4.9", benefit: "5% 할인", desc: "장인이 직접 만드는 고퀄리티 가죽 제품." },
                    { name: "블루씰 데포 아일랜드", product: "굿즈, 아이스크림", rating: "4.5", benefit: null, desc: "아이스크림뿐만 아니라 귀여운 굿즈도 판매." }
                ]
            },
            {
                building: "아메리칸 데포 (American Depot)",
                desc: "입구 쪽 빈티지한 대형 건물",
                shops: [
                    { name: "소호 (SOHO)", product: "수입 의류, 밀리터리", rating: "4.5", benefit: "10% 할인", desc: "지하에 엄청난 규모의 수입/빈티지 의류 매장." },
                    { name: "아메리칸 데포 B동", product: "빈티지 소품", rating: "4.4", benefit: "10% 할인", desc: "미국 감성 가득한 빈티지 장난감과 소품." }
                ]
            },
            {
                building: "이온 차탄점 (Aeon Chatan)",
                desc: "도보 5분 거리 대형 마트",
                shops: [
                    { name: "이온 슈퍼마켓", product: "식료품, 회, 맥주", rating: "4.3", benefit: null, desc: "밤에 야식(회, 초밥)과 오리온 맥주 사기 좋음." },
                    { name: "베스트 전기", product: "전자제품", rating: "4.0", benefit: "5% 할인 (면세 중복가능)", desc: "2층에 위치. 급하게 필요한 전자제품 구매." }
                ]
            }
        ];

        function renderShops() {
            const container = document.getElementById('shop-container');
            let html = '';

            shopData.forEach(group => {
                let shopsHtml = '';
                group.shops.forEach(shop => {
                    const benefitHtml = shop.benefit 
                        ? `<span class="badge-cardkey">${shop.benefit}</span>` 
                        : '';
                    
                    shopsHtml += `
                        <div class="shop-item" onclick="window.open('https://www.google.com/maps/search/?api=1&query=${encodeURIComponent('아메리칸빌리지 ' + shop.name)}', '_blank')">
                            <div class="flex justify-between items-start mb-1">
                                <div class="flex flex-wrap gap-1">
                                    <span class="badge-product">${shop.product}</span>
                                </div>
                                <span class="rating-text flex items-center gap-1">
                                    <i data-lucide="star" class="w-3 h-3 fill-current text-yellow-400"></i> ${shop.rating}
                                </span>
                            </div>
                            <h3 class="font-bold text-slate-800 text-sm">${shop.name}</h3>
                            <p class="text-xs text-slate-500 mt-1">${shop.desc}</p>
                            ${benefitHtml}
                            <div class="mt-2 pt-2 border-t border-slate-50 flex justify-end">
                                <span class="text-[10px] font-bold text-blue-500 flex items-center gap-1">구글맵 보기 <i data-lucide="arrow-up-right" class="w-3 h-3"></i></span>
                            </div>
                        </div>
                    `;
                });

                html += `
                    <div class="building-group">
                        <div class="building-title">
                            <span>${group.building}</span>
                            <span class="text-[10px] font-normal text-slate-400 bg-white px-2 py-1 rounded border border-slate-200">${group.desc}</span>
                        </div>
                        <div class="grid grid-cols-1 gap-2">
                            ${shopsHtml}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
            
            // 아이콘 새로고침
            if (window.lucide) window.lucide.createIcons();
        }

        // 초기 렌더링
        renderShops();
    </script>

</body>
</html>